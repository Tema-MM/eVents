<div class="min-h-screen bg-gradient-to-br from-green-100 to-green-300 flex items-center justify-center p-8">
  <div class="w-full max-w-2xl space-y-6">
    <!-- Frosted glass confirmation card -->
    <div class="bg-white/20 backdrop-blur-2xl border border-green-300/40 rounded-[2rem] shadow-2xl p-8 text-center">
      <h1 class="text-3xl font-bold text-green-600 mb-4">Purchase Confirmed!</h1>
      <p class="text-lg mb-4">Congratulations! You've successfully purchased <%= (session[:last_purchase_items] || 0).to_i %> ticket<%= (session[:last_purchase_items] || 0).to_i > 1 ? 's' : '' %>.</p>
      <p class="text-lg mb-4">Total: <%= number_to_currency((session[:last_purchase_total] || 0).to_f) %></p>
      <p class="text-sm text-yellow-300 mb-6">Enjoy your event experience!</p>

      <!-- Ticket Options -->
      <div class="mb-6">
        <div class="inline-flex items-center gap-3">
          <%= link_to "Download Tickets", download_tickets_path(format: :pdf), class: "inline-flex items-center bg-blue-500 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 hover:bg-blue-600 hover:shadow-md" %>
          <%= button_to "Email Tickets", send_tickets_path, method: :post, form: { class: "inline-block" }, class: "inline-flex items-center bg-blue-500 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 hover:bg-blue-600 hover:shadow-md" %>
        </div>
        <div class="mt-3 text-left">
          <p class="text-sm text-gray-200 mb-2">Send to another email (leave blank to use your account email).</p>
          <%= form_with url: send_tickets_path, method: :post, local: true, class: "flex items-center gap-2" do %>
            <%= email_field_tag :email, current_user.email, placeholder: "name@example.com", class: "bg-white/20 text-black placeholder-gray-200 px-3 py-2 rounded w-full" %>
            <%= submit_tag "Send", class: "bg-green-600 hover:bg-green-700 text-black font-bold px-4 py-2 rounded" %>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Recent Purchases (outside the glass card) -->
    <div class="text-center">
      <h2 class="text-xl font-bold text-green-600 mb-2">Recent Purchases</h2>
      <% if @purchases.any? %>
        <ul class="text-center mx-auto max-w-xl">
          <% @purchases.each do |purchase| %>
            <li class="mb-2">
              <%= purchase.event.name %> - <%= purchase.quantity %> ticket<%= purchase.quantity > 1 ? 's' : '' %> for <%= number_to_currency(purchase.total_price) %> on <%= purchase.purchased_at.strftime("%d %b %Y %H:%M") %>
            </li>
          <% end %>
        </ul>
      <% else %>
        <div class="text-gray-700">
          <p class="mb-2">No recent purchases yet.</p>
          <%= link_to "Browse events", all_events_path, class: "text-indigo-600 hover:text-indigo-500 underline" %>
        </div>
      <% end %>

      <div class="mt-4">
        <%= link_to "Back to Home", root_path, class: "bg-blue-500 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 hover:bg-blue-600 hover:shadow-md inline-block" %>
      </div>
    </div>
  </div>
</div>